import React, { Component } from 'react'

export const DataContext = React.createContext();
const data = [

    {
        hang: "A",
        danhSachGhe: [
            {
                soGhe: "A1",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "A2",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "A3",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "A4",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "A5",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "A6",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "A7",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "A8",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "A9",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "A10",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "A11",
                gia: 0,
                daDat: 'not empty'
            },
            {
                soGhe: "A12",
                gia: 0,
                daDat: 'not empty'
            }
        ]
    },
    {
        hang: "B",
        danhSachGhe: [
            {
                soGhe: "B1",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "B2",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "B3",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "B4",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "B5",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "B6",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "B7",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "B8",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "B9",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "B10",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "B11",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "B12",
                gia: 75000,
                daDat: 'empty'
            }
        ]
    },
    {
        hang: "C",
        danhSachGhe: [
            {
                soGhe: "C1",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "C2",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "C3",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "C4",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "C5",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "C6",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "C7",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "C8",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "C9",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "C10",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "C11",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "C12",
                gia: 75000,
                daDat: 'empty'
            }
        ]
    },
    {
        hang: "D",
        danhSachGhe: [
            {
                soGhe: "D1",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "D2",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "D3",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "D4",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "D5",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "D6",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "D7",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "D8",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "D9",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "D10",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "D11",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "D12",
                gia: 75000,
                daDat: 'empty'
            }
        ]
    },
    {
        hang: "E",
        danhSachGhe: [
            {
                soGhe: "E1",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "E2",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "E3",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "E4",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "E5",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "E6",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "E7",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "E8",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "E9",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "E10",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "E11",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "E12",
                gia: 75000,
                daDat: 'empty'
            }
        ]
    },
    {
        hang: "F",
        danhSachGhe: [
            {
                soGhe: "F1",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "F2",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "F3",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "F4",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "F5",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "F6",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "F7",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "F8",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "F9",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "F10",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "F11",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "F12",
                gia: 75000,
                daDat: 'empty'
            }
        ]
    },
    {
        hang: "G",
        danhSachGhe: [
            {
                soGhe: "G1",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "G2",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "G3",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "G4",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "G5",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "G6",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "G7",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "G8",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "G9",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "G10",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "G11",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "G12",
                gia: 75000,
                daDat: 'empty'
            }
        ]
    },
    {
        hang: "H",
        danhSachGhe: [
            {
                soGhe: "H1",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "H2",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "H3",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "H4",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "H5",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "H6",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "H7",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "H8",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "H9",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "H10",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "H11",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "H12",
                gia: 75000,
                daDat: 'empty'
            }
        ]
    },
    {
        hang: "I",
        danhSachGhe: [
            {
                soGhe: "I1",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "I2",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "I3",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "I4",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "I5",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "I6",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "I7",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "I8",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "I9",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "I10",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "I11",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "I12",
                gia: 75000,
                daDat: 'empty'
            }
        ]
    },
    {
        hang: "J",
        danhSachGhe: [
            {
                soGhe: "J1",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "J2",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "J3",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "J4",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "J5",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "J6",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "J7",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "J8",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "J9",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "J10",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "J11",
                gia: 75000,
                daDat: 'empty'
            },
            {
                soGhe: "J12",
                gia: 75000,
                daDat: 'empty'
            }
        ]
    }
]
export default class DataProvider extends Component {
    state = {
        seat: data,
        seatArray: []
    }
    chooseSeat = (seat, daDat) => {
        const { seatArray } = this.state


        if (daDat === 'empty') {
            this.state.seat.forEach(seatItem => {
                seatItem.danhSachGhe.forEach(dsGhe => {
                    if (dsGhe.soGhe === seat)
                        dsGhe.daDat = 'choosing'
                })
            })
            this.setState({
                seatArray: [...seatArray, seat]
            })

        }
        else if (daDat === 'choosing') {
            this.state.seat.forEach(seatItem => {
                seatItem.danhSachGhe.forEach(dsGhe => {
                    if (dsGhe.soGhe === seat)
                        dsGhe.daDat = 'empty'
                })
            })
            this.setState({
                seatArray: this.state.seatArray.filter(item => item !== seat)
            })

        }
        else alert("Ghế không còn trống")
    }
    confirmSeat = () => {
        /*   this.state.seat.forEach(seatItem => {
              seatItem.danhSachGhe.forEach(dsGhe => {
                  if (dsGhe.soGhe === seat)
                      dsGhe.daDat = true
              })
          }) */
        console.log(this.state.seatArray);
    }
    render() {
        const { seat } = this.state;
        const { chooseSeat, confirmSeat } = this;
        return (
            <DataContext.Provider value={{ seat, chooseSeat, confirmSeat }}>
                {this.props.children}
            </DataContext.Provider>
        )
    }
}
